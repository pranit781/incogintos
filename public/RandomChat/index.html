<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Random Chat</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="../style.css">
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      .body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100%;
        background: #ccc;
      }

      .main-container {
        position: relative;
        width: 1000px;
        max-width: 100%;
        height: calc(100vh - 40px);
        background: #fff;
        display: flex;
        box-shadow: 0px 1px 1px 0 rgba(0, 0, 0, 0.5),
          0px 2px 5px 0 rgba(0, 0, 0, 0.6);
      }

      .main-container {
        position: relative;
        width: 30%;
        height: 100%;
        flex: 30%;
        background: #fff;
      }

      .main-container .right-container {
        position: relative;
        width: 70%;
        height: 100%;
        flex: 70%;
        background: #e5ddd5;
      }

      .main-container .right-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url(https://camo.githubusercontent.com/854a93c27d64274c4f8f5a0b6ec36ee1d053cfcd934eac6c63bed9eaef9764bd/68747470733a2f2f7765622e77686174736170702e636f6d2f696d672f62672d636861742d74696c652d6461726b5f61346265353132653731393562366237333364393131306234303866303735642e706e67);
        opacity: 0.5;
      }

      .header {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
        height: 60px;
        background: #ededed;
        padding: 0 15px;
      }

      .user-img {
        position: relative;
        width: 40px;
        height: 40px;
        overflow: hidden;
        border-radius: 50%;
      }

      .dp {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        cursor: pointer;
      }

      .nav-icons {
        display: flex;
        justify-content: flex-end;
        padding-left: 110px;
      }

      .nav-icons li {
        backgroud-color: pink;
        list-style: none;
        display: flex;
        cursor: pointer;
        color: #51585c;
        margin-left: 22px;
        font-size: 18px;
      }

      .notif-box {
        position: relative;
        display: flex;
        width: 100%;
        height: 70px;
        background: #76daff;
        align-items: center;
        font-size: 0.8em;
        text-decoration: none;
      }

      .notif-box i {
        position: relative;
        left: 13px;
        background: #fff;
        padding: 10px;
        width: 42px;
        height: auto;
        font-size: 20px;
        border-radius: 55%;
        cursor: pointer;
        color: #76daff;
      }

      .notif-box .fa-xmark {
        position: absolute;
        left: 260px;
        text-align: center;
        background: #76daff;
        color: #fff;
      }

      .notif-text {
        margin: 25px;
      }

      .notif-text a {
        text-decoration: none;
        color: #333;
        font-size: 0.9em;
      }

      .search-container {
        position: relative;
        width: 100%;
        height: 40px;
        background: #f6f6f6;
        display: flex;
        /*   justify-content: center; */
        align-items: center;
      }

      .search-container .input input {
        width: 121%;
        outline: none;
        border: none;
        background: #fff;
        padding: 5px;
        height: 30x;
        border-radius: 10px;
        font-size: 12px;
        padding-left: 60px;
        margin: 10px;
      }

      .search-container .input i {
        position: absolute;
        left: 26px;
        top: 14px;
        color: #bbb;
        font-size: 0.8em;
      }

      .chat-list {
        position: relative;
        height: calc(100% - 170px);
        overflow-y: auto;
      }

      .chat-list .chat-box {
        position: relative;
        width: 100%;
        display: flex;
        /*   justify-content: center; */
        align-items: center;
        cursor: pointer;
        padding: 15px;
        border-bottom: 1px solid #eee;
      }

      .chat-list .chat-box .img-box {
        position: relative;
        width: 55px;
        height: 45px;
        overflow: hidden;
        border-radius: 50%;
      }

      .chat-list .chat-box .chat-details {
        width: 100%;
        margin-left: 10px;
      }

      .chat-list .chat-box .chat-details .text-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2px;
      }

      .chat-list .chat-box .chat-details .text-head h4 {
        font-size: 1.1em;
        font-weight: 600;
        color: #000;
      }

      .chat-list .chat-box .chat-details .text-head .time {
        font-size: 0.8em;
        color: #aaa;
      }

      .chat-list .chat-box .chat-details .text-message {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .chat-list .chat-box .chat-details .text-message p {
        color: #aaa;
        font-size: 0.9em;
        overlay: hidden;
      }

      img {
        width: 100%;
        object-fit: cover;
      }

      .chat-list .chat-box .chat-details .text-message b {
        background: #06e744;
        color: #fff;
        min-width: 20px;
        height: 20px;
        border-radius: 50%;
        /*   text-align: center; */
        font-size: 0.8em;
        font-weight: 400;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .chat-list .active {
        background: #ebebeb;
      }

      .chat-list .chat-box:hover {
        background: #f5f5f5;
      }

      .chat-list .chat-box .chat-details .text-head .unread {
        color: #06e744;
      }

      /* right-container */

      .right-container .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .right-container .header .img-text .user-img .dp {
        position: relative;
        top: -2px;
        left: 0px;
        width: 40px;
        height: auto;
        overflow: hidden;
        object-fit: cover;
      }

      .right-container .header .img-text {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }

      .right-container .header .img-text h4 {
        font-weight: 500;
        line-height: 1.2em;
        margin-left: 15px;
      }

      .right-container .header .img-text h4 span {
        font-size: 0.8em;
        color: #555;
      }

      .right-container .header .nav-icons {
        position: relative;
        margin-right: 0px;
          padding: 5px;
      }

      .right-container .header .nav-icons i {
        padding: 10px;
      }

      .chat-container {
        position: relative;
        width: 100%;
        height: calc(100% - 120px); /*60+60*/
        padding: 50px;
        overflow-y: auto;
        min-height: 300px;
      }

      .message-box {
        position: relative;
        display: flex;
        width: 100%;
        margin: 5px 0;
        word-wrap: break-word;  
      }

      .message-box p {
        position: relative;
        right: 0;
        text-align: right;
        max-width: 65%;
        padding: 12px;
        background: #dcf8c6;
        border-radius: 10px;
        font-size: 0.9em;
      }

      .message-box.my-message p::before {
        content: "";
        position: absolute;
        top: 0;
        right: -12px;
        width: 20px;
        height: 20px;
        background: linear-gradient(
          135deg,
          #dcf8c6 0%,
          #dcf8c6 50%,
          transparent 50%,
          transparent
        );
      }

      .message-box p span {
        display: block;
        margin-top: 5px;
        font-size: 0.8em;
        opacity: 0.5;
      }

      .my-message {
        justify-content: flex-end;
      }

      .friend-message p {
        background: #fff;
      }

      .friend-message {
        justify-content: flex-start;
      }

      .chat-container .my-message i {
        color: yellow;
      }

      .message-box.friend-message::before {
        content: "";
        position: absolute;
        top: 0;
        left: -12px;
        width: 20px;
        height: 20px;
        background: linear-gradient(
          225deg,
          #fff 0%,
          #fff 50%,
          transparent 50%,
          transparent
        );
      }

      .chatbox-input {
        position: relative;
        width: 100%;
        height: 60px;
        background: #f0f0f0;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .chatbox-input i {
        cursor: pointer;
        font-size: 1.8em;
        color: #515855;
      }

      .chatbox-input i:nth-child(1) {
        margin: 15px;
      }

      .chatbox-input i:last-child {
        margin-right: 25px;
      }

      .chatbox-input input {
        position: relative;
        width: 90%;
        margin: 0 20px;
        padding: 10px 20px;
        border-radius: 10px;
        font-size: 1em;
        border: none;
        outline: none;
      }
    </style>
    <script
      src="https://kit.fontawesome.com/391827d54c.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand mb-0 h1" href="/">Incognitos Community</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" style="flex-direction: row-reverse;" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#">Share Snippet <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Chat</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Coding Playground</a>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="#">Chat Channel</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">Pair Programming</a>
              </li>
          </ul> 
          
        </div>
       
      </nav>
      <div class="control-panel" style="display: flex; justify-content: space-between;"> 
        <h4>Meet Random People</h4>
        <button type="button" class="btn btn-primary">
          Online <span class="badge badge-light" id="online-users">0</span>
        </button>
      </div>
   
      <div
      class="container top-margin-main-content"
      
    >
      <br><br>
    <div class="container top-margin-main-content" id="pre-chat-section">
      <div class="row" style="flex-flow: column-reverse">
        <div class="col-3"></div>
        <div class="col-6">
          <span class="text-dark" id="online-users"></span>
        </div>
        <div class="col-3"></div>
      </div>
      <div class="row mt-2" id="message-row" style="display: none">
        <div
          class="col-6 alert alert-primary"
          id="info-message"
          role="alert"
          style="display: none"
        ></div>
        <div
          class="col-6 alert alert-danger"
          id="error-message"
          role="alert"
          style="display: none"
        ></div>
      </div>
      <div class="row mt-2" id="finding-match-row" style="display: none">
        <div class="col-6 alert alert-success" id="message-update" role="alert">
          Find the best match for you...
        </div>
      </div>
      <div class="row mt-2" id="form-row">
        <div class="col-3"></div>
        <div class="col-6">
          <form name="chatForm" class="form-horizontal chat-form">
            <div class="mb-3">
              <label for="username" class="form-label"><b>Name</b></label>
              <input
                type="text"
                class="form-control"
                id="username"
                aria-describedby="name"
              />
            </div>
            <div class="mb-3">
              <div class="form-check form-check-inline">
                <!-- <input
                  class="form-check-input"
                  type="radio"
                  name="gender"
                  id="gender-m"
                  value="m"
                  checked
                />
                <label class="form-check-label bolder-blue-font" for="gender-m"
                  >Male</label
                >
              </div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="gender"
                  id="gender-f"
                  value="f"
                />
                <label class="form-check-label bolder-pink-font" for="gender-f"
                  >Female</label
                > -->
              </div>
            </div>
            <button type="submit" class="btn btn-dark float-end">
              Continue
            </button>
          </form>
        </div>
        <div class="col-3"></div>
      </div>
    </div> 
 
    <div class="body" id="chat-section"
    style="visibility: hidden;">
      <div class="main-container">
        <div class="right-container">
          <!--header -->
          <div class="header">
            <div class="img-text">
              <div class="user-img">
                <img
                  class="dp"
                  src="../assets/profile_user.png"
                  alt=""
                />
              </div>
              
              <h4 id="match-name">Well Wisher<br /><span>Online</span></h4>
            </div>
            <div class="nav-icons"> 
              <button type="submit" class="btn btn-danger mr-2 float-start m-2"> Stop Chat
                <i id="reloadButton" class="fa-solid fa-times-circle"></i>
              </button>
            </div>
          </div>

          <!--chat-container -->
          <div class="chat-container" id="private-messages">
           
          </div>

          <!--input-bottom -->
          <div class="chatbox-input">
            <i class="fa-regular fa-face-grin" id="emoji-icon"></i>
            <input type="text" id="chat-box" placeholder="Type a message" />
            
            <i class="fa fa-paper-plane" onclick="sendMessage()"></i>
          
           
          </div>
        </div>
      </div>
    </div>
    <script>
      // Select the emoji icon and chat box input field
const emojiIcon = document.getElementById('emoji-icon');
const chatBox = document.getElementById('chat-box');

// Define an array of emojis (you can use your own list)
const emojis = ['ðŸ˜€', 'ðŸ˜', 'ðŸ˜‚', 'ðŸ˜ƒ', 'ðŸ˜„', 'ðŸ˜…', 'ðŸ˜†', 'ðŸ˜‡', 'ðŸ˜ˆ', 'ðŸ˜‰', 'ðŸ˜Š', 'ðŸ˜‹', 'ðŸ˜Œ', 'ðŸ˜', 'ðŸ˜Ž', 'ðŸ˜', 'ðŸ˜', 'ðŸ˜‘', 'ðŸ˜’', 'ðŸ˜“', 'ðŸ˜”', 'ðŸ˜•', 'ðŸ˜–', 'ðŸ˜—', 'ðŸ˜˜', 'ðŸ˜™', 'ðŸ˜š', 'ðŸ˜›', 'ðŸ˜œ', 'ðŸ˜', 'ðŸ˜ž', 'ðŸ˜Ÿ', 'ðŸ˜ ', 'ðŸ˜¡', 'ðŸ˜¢', 'ðŸ˜£', 'ðŸ˜¤', 'ðŸ˜¥', 'ðŸ˜¦', 'ðŸ˜§', 'ðŸ˜¨', 'ðŸ˜©', 'ðŸ˜ª', 'ðŸ˜«', 'ðŸ˜¬', 'ðŸ˜­', 'ðŸ˜®', 'ðŸ˜¯', 'ðŸ˜°', 'ðŸ˜±', 'ðŸ˜²', 'ðŸ˜³', 'ðŸ˜´', 'ðŸ˜µ', 'ðŸ˜¶', 'ðŸ˜·', 'ðŸ˜¸', 'ðŸ˜¹', 'ðŸ˜º', 'ðŸ˜»', 'ðŸ˜¼', 'ðŸ˜½', 'ðŸ˜¾', 'ðŸ˜¿', 'ðŸ™€', 'ðŸ™', 'ðŸ™‚', 'ðŸ™ƒ', 'ðŸ™„', 'ðŸ™…', 'ðŸ™†', 'ðŸ™‡', 'ðŸ™ˆ', 'ðŸ™‰', 'ðŸ™Š', 'ðŸ™‹', 'ðŸ™Œ', 'ðŸ™', 'ðŸ™Ž', 'ðŸ™'];

// Function to toggle the emoji panel visibility
function toggleEmojiPanel() {
    const emojiPanel = document.getElementById('emoji-panel');
    emojiPanel.classList.toggle('show');
}

// Function to insert the selected emoji into the chat box
function insertEmoji(emoji) {
    chatBox.value += emoji;
}

// Create the emoji panel
const emojiPanel = document.createElement('div');
emojiPanel.id = 'emoji-panel';
emojis.forEach(emoji => {
    const emojiButton = document.createElement('button');
    emojiButton.textContent = emoji;
    emojiButton.addEventListener('click', () => {
        insertEmoji(emoji);
    });
    emojiPanel.appendChild(emojiButton);
});
document.body.appendChild(emojiPanel);

// Add event listener to the emoji icon
emojiIcon.addEventListener('click', toggleEmojiPanel);

    </script>
    <script src="
         https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js
         "></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"
      integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.socket.io/4.5.1/socket.io.js"></script>
    <script src="chat-client.js"></script>
  </body>
  
</html>
